
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>مرشد القرآن الذكي — القرآن المرقوم عبر العصور</title>
<meta name="description" content="منصة قرآنية تفاعلية نافعة للدين والدنيا — بحث عن القرآن المرقوم بين المعنى التراثي والمفهوم الرقمي المعاصر.">
<meta name="keywords" content="القرآن المرقوم, مرشد القرآن الذكي, آية اليوم, البحث القرآني, مواقيت الصلاة, حفظ القرآن, تحدي الإتيان بمثله">
<meta property="og:title" content="مرشد القرآن الذكي — القرآن المرقوم عبر العصور">
<meta property="og:description" content="بحث عن القرآن المرقوم بين المعنى التراثي والمفهوم الرقمي المعاصر.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://najemi19.github.io/smart-quran-guide/">
<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#065143">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
<style>
:root{--green:#065143;--green2:#087f5b;--gold:#ffd700;--bg:#f9f9f4;--ink:#333;}
body{margin:0;font-family:'Amiri',serif;background:var(--bg);color:var(--ink);scroll-behavior:smooth;}
header{background:linear-gradient(135deg,var(--green),#044135);color:#fff;padding:30px 15px;text-align:center;}
header h1{margin:0;font-size:2rem}
header p.lead{max-width:900px;margin:10px auto 0;line-height:1.8}
nav{background:var(--green2);padding:10px;text-align:center;position:sticky;top:0;z-index:999}
nav a,nav button{color:#fff;margin:0 5px;text-decoration:none;font-weight:bold;border:none;background:none;cursor:pointer}
nav a:hover,nav button:hover{color:var(--gold)}
section{padding:20px;max-width:1100px;margin:auto}
h2{color:var(--green);border-right:4px solid var(--gold);padding-right:8px}
.grid{display:grid;gap:20px;grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}
.card{background:#fff;padding:15px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,.08)}
.ayah{background:#fff;padding:25px;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,.1);text-align:center;font-size:1.5rem;color:var(--green);margin-bottom:14px}
.btn{background:var(--green2);color:#fff;padding:8px 14px;border:none;border-radius:6px;cursor:pointer;text-decoration:none}
.btn:hover{background:#099268}
input[type=text]{padding:10px;width:70%;border-radius:8px;border:1px solid #ccc}
.social-fixed{position:fixed;top:50%;left:0;transform:translateY(-50%);display:flex;flex-direction:column;z-index:1000}
.social-fixed a{display:block;padding:10px;color:#fff;text-align:center;text-decoration:none}
.fb{background:#3b5998}.ig{background:#e4405f}.li{background:#0077b5}.yt{background:#ff0000}.wa{background:#25d366}
footer{background:#222;color:#ccc;text-align:center;padding:15px;font-size:14px}
:root[data-theme="dark"]{--bg:#0f1716;--ink:#e7e7e7;--green:#0d4037;--green2:#0f6b53;}
</style>
</head>
<body>

<div class="social-fixed">
  <a href="#" class="fb">F</a>
  <a href="#" class="ig">I</a>
  <a href="#" class="li">L</a>
  <a href="#" class="yt">Y</a>
  <a href="#" class="wa">W</a>
</div>

<header>
  <h1>📖 مرشد القرآن الذكي</h1>
  <p class="lead">صدقة جارية — بحث “القرآن المرقوم” بين التراث والرقمنة مع أدوات بحث ومواقيت وخدمات تفاعلية.</p>
</header>

<nav>
  <a href="#ayah">آية اليوم</a>
  <a href="#search">بحث</a>
  <a href="#services">خدمات</a>
  <a href="#research">بحث القرآن المرقوم</a>
  <a href="#contact">اتصل بنا</a>
  <button id="themeToggle">الوضع الداكن</button>
</nav>

<section id="ayah">
  <h2>آية اليوم</h2>
  <div id="ayahBox" class="ayah">جاري تحميل الآية...</div>
  <p id="ayahInfo"></p>
  <button id="favAyah" class="btn">حفظ في المفضلة</button>
  <button id="shareBtn" class="btn">مشاركة</button>
  <div id="favList" class="card" style="margin-top:10px"></div>
</section>

<section id="search">
  <h2>بحث في القرآن الكريم</h2>
  <form id="searchForm">
    <input type="text" id="searchQuery" placeholder="أدخل كلمة أو آية">
    <button type="submit" class="btn">بحث</button>
  </form>
  <div id="searchResults" class="card" style="margin-top:14px"></div>
</section>

<section id="services">
  <h2>خدمات</h2>
  <div class="grid">
    <div class="card"><h3>مواقيت الصلاة</h3><div id="prayerTimes">جاري تحديد الموقع...</div></div>
    <div class="card"><h3>اتجاه القبلة</h3><p id="qiblaDeg">—</p></div>
  </div>
</section>

<section id="research">
  <h2>بحث: القرآن المرقوم بين الماضي والحاضر</h2>
  <div class="card">
    <p>“كتاب مرقوم” وصف قرآني للسجل المحكم، يقابله اليوم مفهوم السجلات الرقمية المؤمَّنة والمشفَّرة، مع بقاء النص محفوظًا بحفظ الله.</p>
    <ul>
      <li>تراثيًا: مكتوب، مختوم، محفوظ.</li>
      <li>رقميًا: مؤرشف، متكامل، غير قابل للتلاعب.</li>
      <li>إعجازيًا: الحفظ الإلهي قائم والتحدي قائم.</li>
    </ul>
  </div>
</section>

<section id="contact">
  <h2>اتصل بنا</h2>
  <p>بريد: <a href="mailto:info@example.com">info@example.com</a></p>
</section>

<footer>
  <p>© 2025 — مرشد القرآن الذكي</p>
  <p><a href="privacy.html">سياسة الخصوصية</a> | <a href="terms.html">شروط الاستخدام</a> | <a href="cookies.html">سياسة الكوكيز</a></p>
</footer>

<script>
// الوضع الداكن
const root = document.documentElement;
document.getElementById('themeToggle').onclick = ()=>{
  root.dataset.theme = root.dataset.theme === 'dark' ? '' : 'dark';
  localStorage.setItem('theme', root.dataset.theme);
};
if(localStorage.getItem('theme')==='dark') root.dataset.theme='dark';

// آية اليوم
const box=document.getElementById('ayahBox'),info=document.getElementById('ayahInfo');
fetch('https://api.alquran.cloud/v1/ayah/random/ar').then(r=>r.json()).then(d=>{
  box.textContent=d.data.text;info.textContent=`سورة ${d.data.surah.name} — آية ${d.data.numberInSurah}`;
});
// مفضلة الآيات
document.getElementById('favAyah').onclick=()=>{
  let favs=JSON.parse(localStorage.getItem('fav')||'[]');
  favs.unshift({t:box.textContent,m:info.textContent});
  localStorage.setItem('fav',JSON.stringify(favs.slice(0,50)));
  renderFav();
};
function renderFav(){
  let favs=JSON.parse(localStorage.getItem('fav')||'[]');
  document.getElementById('favList').innerHTML=
    favs.length? favs.map(f=>`<div style="border-bottom:1px solid #eee;padding:6px 0">
      <div style="color:var(--green)">${f.t}</div>
      <div class="info">${f.m}</div>
    </div>`).join('') : '<p class="info">لا توجد آيات محفوظة.</p>';
}
renderFav();

// مشاركة آية اليوم
document.getElementById('shareBtn').onclick=()=>{
  if(navigator.share){
    navigator.share({
      title:'آية اليوم — مرشد القرآن الذكي',
      text:box.textContent,
      url:location.href
    });
  }else{
    alert('ميزة المشاركة غير مدعومة على هذا المتصفح.');
  }
};

// البحث
document.getElementById('searchForm').onsubmit=e=>{
  e.preventDefault();
  fetch(`https://api.alquran.cloud/v1/search/${encodeURIComponent(document.getElementById('searchQuery').value)}/all/ar`)
    .then(r=>r.json()).then(d=>{
      let out='';
      if(d.data.matches.length>0){
        d.data.matches.forEach(m=>{
          out += `<div style="padding:8px 0;border-bottom:1px solid #eee;">
                    <div style="color:var(--green)">${m.text}</div>
                    <div class="info">سورة ${m.surah.name} — آية ${m.numberInSurah}</div>
                  </div>`;
        });
      } else {
        out = '<p class="info">لا توجد نتائج.</p>';
      }
      document.getElementById('searchResults').innerHTML=out;
    });
};

// مواقيت الصلاة
if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(pos=>{
    const lat=pos.coords.latitude, lon=pos.coords.longitude;
    fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=2`)
    .then(r=>r.json()).then(d=>{
      const t=d.data.timings;
      document.getElementById('prayerTimes').innerHTML=
        `الفجر: ${t.Fajr}<br>الشروق: ${t.Sunrise}<br>الظهر: ${t.Dhuhr}<br>العصر: ${t.Asr}<br>المغرب: ${t.Maghrib}<br>العشاء: ${t.Isha}`;
    });
  },()=>{document.getElementById('prayerTimes').textContent='تعذر تحديد الموقع';});
}

// اتجاه القبلة
function bearingTo(lat1, lon1, lat2=21.4225, lon2=39.8262){
  const toRad = d => d * Math.PI / 180, toDeg = r => r * 180 / Math.PI;
  const φ1 = toRad(lat1), φ2 = toRad(lat2), Δλ = toRad(lon2 - lon1);
  const y = Math.sin(Δλ) * Math.cos(φ2);
  const x = Math.cos(φ1)*Math.sin(φ2) - Math.sin(φ1)*Math.cos(φ2)*Math.cos(Δλ);
  return (toDeg(Math.atan2(y, x)) + 360) % 360;
}
if(navigator.geolocation){
  navigator.geolocation.getCurrentPosition(pos=>{
    const deg = Math.round(bearingTo(pos.coords.latitude, pos.coords.longitude));
    document.getElementById('qiblaDeg').textContent = `${deg}° نحو الكعبة`;
  });
}

// تسجيل Service Worker
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('./sw.js');
}
</script>
</body>
</html>
